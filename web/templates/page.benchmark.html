{{template "base" .}}

{{define "title"}}Time Benchmark{{end}}

{{define "content"}}
    <h1 class="display-6">
        Time Benchmark
    </h1>

    <p class="lead">
        You completed a
        <b>{{.Distance}} {{.Stroke | Title}}</b> event in a <b>{{if eq .Course "SHORT"}} short course meet (25m pool){{end}}{{if eq .Course "LONG"}} long course meet (50m pool){{end}}</b>, achieving the time of 
        <b>{{.FormatedTime}}</b>. We compared this time to some Canadian swimming standards. 
    </p>

    {{range .Meets}}
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">{{.Name}}</h5>
                <h6 class="card-subtitle mb-2 text-body-secondary">Standard: {{.StandardTime.TimeStandard.Name}}</h6>
                <p class="card-text">
                    <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="{{.StandardTime.Difference | Abs}}" aria-valuemin="0" aria-valuemax="{{.StandardTime.Standard}}" style="height: 30px">
                        <div class="progress-bar {{if (gt .StandardTime.Difference 0)}}bg-info{{else}}bg-success{{end}}" style="width: {{.StandardTime.Percentage}}%"><b>{{$.FormatedTime}}</b></div>
                    </div>
                </p>
                <p class="card-text">
                    The {{if eq $.Course "SHORT"}}short course{{end}}{{if eq $.Course "LONG"}}long course{{end}} standard to qualify a {{.Age}}-year-old to <b>{{$.Distance}} {{$.Stroke | Title}}</b>
                    at this meet is <b>{{.StandardTime.Standard | FormatMiliseconds}}</b>.
                    {{if (gt .StandardTime.Difference 0)}}
                        It missed the standard by <b>{{.StandardTime.Difference | FormatMiliseconds}}</b>.
                    {{else}}
                        Your time of <b>{{$.FormatedTime}}</b> meets the standard!<br>
                        Please, confirm this information with your coach, since some championships have additional requirements.
                    {{end}}
                </p>
            </div>
        </div>
        <br>
    {{else}}
        <div class="card">
            <div class="card-body">
                <p class="card-text">
                    Unfortunately, we didn't find any standards that match these criteria.
                </p>
            </div>
        </div>
        <br>
    {{end}}
    <button class="btn btn-secondary" onclick="history.back()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left-short" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5"/>
        </svg>
        New Search
    </button>
    
    {{if .BaseTemplateContext.FeedbackForm }}
        &nbsp;&nbsp;&nbsp;

        <a href="{{.BaseTemplateContext.FeedbackForm}}" target="_blank" rel="noopener noreferrer" class="btn btn-outline-secondary">
            Give Feedback&nbsp;
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5"/>
                <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0z"/>
            </svg>
        </a>
    {{end}}
{{end}}